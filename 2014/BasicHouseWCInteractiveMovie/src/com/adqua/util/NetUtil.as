package com.adqua.util{	import com.adqua.system.SecurityUtil;		import flash.external.ExternalInterface;	import flash.net.URLRequest;	import flash.net.URLVariables;	import flash.net.navigateToURL;
	/**	 * @author philip	 */	public class NetUtil extends Object	{		/**		 * 자바스크립트함수 호출인지 확인 후 URL 이동!! 일반 URL은 그냥 이동!!		 */		public static function getURL(url:String, target:String = "_self"):void		{			var tmp:String = url.substr(0, 11);			tmp.toLowerCase();			if (tmp == "javascript:")			{				var regStart:uint = url.indexOf("(");				var regEnd:uint = url.lastIndexOf(")");				var funcName:String = url.substring(11, regStart);				var arr:Array = url.substring(regStart + 1, regEnd).split(",");				var num:uint = arr.length;				while(num--)				{					arr[num] = StringUtil.trim(arr[num], " ");					if (arr[num].charAt(0) == "'" || arr[num].charAt(0) == '"' )					{						arr[num] = arr[num].substring(1, arr[num].length - 1);					}				}				arr.unshift(funcName);				ExternalInterface.call.apply(null, arr);				if (!SecurityUtil.isWeb()) trace(arr);			}			else			{				if(!target) target = "_self";				navigateToURL(new URLRequest(url), target);			}		}				/**		 * 오브젝트 데이터를 URLVariable로 변환!!!		 */		public static function objectToURLVariables(obj:Object):URLVariables		{			var data:URLVariables = new URLVariables();			for(var i:String in obj)			{				data[i] = obj[i];			}			return data;		}				private static var INITIALIZED:Boolean = false;				private static const FUNCTION_OPEN_WNIDOW:String =             "document.insertScript = function ()" +            "{ " +                "if (document.flash_func_openWindow==null)" +                "{" +                    "flash_func_openWindow = function (url, name, w, h, t, l, tb, lo, st, sc, re, mb)" +                    "{" +                  	  	"if (t != '' && l != '' && w != '' && h != '')"+                  	  	"{" +							"var win = window.open(url, name, 'width='+w+', height='+h+', top='+t+', left='+l+', toolbar='+tb+', location='+lo+', status='+st+', menubar='+mb+', scrollbars='+sc+', resizable='+re);" +						 "}" +						 "else if (w != '' && h != '' && t == '' && l == '')"+						 "{" +							"var win = window.open(url, name, 'toolbar='+tb+', location='+lo+', status='+st+', menubar='+mb+', scrollbars='+sc+', resizable='+re+', width='+w+', height='+h);" +						 "}" +						 "else if (w == '' && h == '' && t != '' && l != '')"+						 "{" +							"var win = window.open(url, name, 'top='+t+', left='+l+', toolbar='+tb+', location='+lo+', status='+st+', menubar='+me+', scrollbars='+sc+', resizable='+re);" +						 "}" +						 "else if (w == '' && h == '' && t == '' && l == '')"+						 "{" +							"var win = window.open(url, name, 'toolbar='+tb+', location='+lo+', status='+st+', menubar='+mb+', scrollbars='+sc+', resizable='+re);" +						 "}" +		            "}" +                "}" +            "}";       		private static function init():void		{			ExternalInterface.call(FUNCTION_OPEN_WNIDOW);			INITIALIZED = true;		}				/**		 * 팝업 띄우기(자바스크립트 함수 동적 추가)		 */		public static function windowOpen(url:String, name:String = "", width:Number = NaN, height:Number = NaN,  top:Number = NaN, left:Number = NaN, scrollbars:Boolean = false, resizable:Boolean = false, toolbar:Boolean = false, location:Boolean = false, status:Boolean = false, menubar:Boolean = false):void		{			if(!INITIALIZED) init();						if (!url) return;			var s_toolbar:String = (!toolbar) ? "0" : "1";			var s_location:String = (!location) ? "0" : "1";			var s_status:String = (!status) ? "0" : "1";			var s_scrollbars:String = (!scrollbars) ? "0" : "1";			var s_resizable:String = (!resizable) ? "0" : "1";			var s_menubar:String = (!menubar) ? "0" : "1";			var s_width:* = isNaN(width) ? "" : width; 			var s_height:* = isNaN(height) ? "" : height; 			var s_top:* = isNaN(top) ? "" : top;			var s_left:* = isNaN(left) ? "" : left;						ExternalInterface.call("flash_func_openWindow", url, name, s_width, s_height, s_top, s_left, s_toolbar, s_location, s_status, s_scrollbars, s_resizable, s_menubar);		}	}}